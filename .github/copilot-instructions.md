# Copilot Instructions

このドキュメントは、AIエージェントに対して本プロジェクトの開発方針を伝えるためのガイドです。  
詳細は各専用ドキュメントを参照してください。

---

## プロジェクト概要
- Flutter + Riverpod を利用したモバイルアプリ
- DDDベースの 3 層構造（ドメイン / アプリケーション / インフラ）
- バックエンドは FastAPI + PostgreSQL、認証は JWT



## 主要ドキュメント
- [アーキテクチャ方針](./docs/architecture.md)
- [コーディング規約](./docs/coding_guidelines.md)
- [ドメインモデルと用語集](./docs/domain_model.md)
- [API仕様](./docs/api_spec.md)
- [UI/UXガイドライン](./docs/ui_guidelines.md)
- [エラー処理方針](./docs/error_handling.md)
- [セキュリティルール](./docs/security.md)
- [テスト戦略](./docs/testing.md)



## 必須ルール（AIは特に遵守すること）
- APIキーやシークレットをコードに直書きしない（`.env` 使用）
<!-- - 非同期処理は `Future` と `Either<Failure, Success>` を組み合わせる
- 例外を throw せず、明示的に Failure を返すこと -->
- UIコンポーネントは再利用可能な Widget を優先



## 調査依頼

- **Webサイトの使用**：不確かな情報や不足しているデータがある場合は、webサイトを検索して情報を取得し、推測や誤った回答を避けてください。またその際、使用したwebサイトのURLを参考情報として添付してください。サイトを確認した結果、404のサイトは表示しないでください。



## コード実装

- **タスク完了まで停止しない**：Agent実行時はコードの提案、編集、エラーチェックの完了まで、タスクを中断せずに続行してください。
- **ツールやWebサイトの積極的な活用**：不確かな情報や不足しているデータがある場合は、ツールを使用もしくはWebサイトを検索して情報を取得し、推測や誤った回答を避けてください。
- **計画的な思考と反省**：各アクションの前に計画を立て、アクション後には結果を反省してください。これにより、より効果的な問題解決が可能となります。
- **段階的な問題解決**：複雑な問題は小さなステップに分解し、順を追って解決してください。
- **明確で一貫した出力**：出力は明確で一貫性を保ち、ユーザーが容易に理解できるようにしてください。
- **エラー処理の実装**：予期しない状況やエラーが発生した場合は、適切なエラーハンドリングを行い、ユーザーに通知してください。



## 基本の作業フロー

1. **タスクの理解**：与えられたタスクを正確に理解し、必要な情報を収集します。
2. **計画の立案**：タスクを達成するための具体的な計画を立てます。
3. **ツールの使用**：必要に応じて、ツールを使用して情報を取得したり、データを操作したりします。
4. **コードの提案・編集**：必要なコードを提案し、編集を行います。
5. **テストと検証**：提案したコードのエラーをチェックし、必要に応じて修正します。
6. **結果の反省**：実行したアクションの結果を反省し、次のステップを計画します。
